<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Vic&#39;s Blog</title>
  <icon>http://geekvic.top/icon.png</icon>
  <subtitle>code changes the world</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://geekvic.top/"/>
  <updated>2020-07-10T07:09:55.527Z</updated>
  <id>http://geekvic.top/</id>
  
  <author>
    <name>vic</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Redis持久化怎么玩</title>
    <link href="http://geekvic.top/post/758625c3.html"/>
    <id>http://geekvic.top/post/758625c3.html</id>
    <published>2020-07-10T06:00:00.000Z</published>
    <updated>2020-07-10T07:09:55.527Z</updated>
    
    <summary type="html">
    
      &lt;h1 id=&quot;什么是持久化？&quot;&gt;&lt;a href=&quot;#什么是持久化？&quot; class=&quot;headerlink&quot; title=&quot;什么是持久化？&quot;&gt;&lt;/a&gt;什么是持久化？&lt;/h1&gt;&lt;p&gt;将数据保存到可永久保存的存储设备中，持久化的主要应用是将内存中的对象存储到数据库中，或者存储到磁盘文件中、XML数据文件中等。&lt;/p&gt;
&lt;p&gt;也可以这样理解持久化：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;应用层：如果关闭( Close )你的应用，然后重新启动则先前的数据依然存在。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;系统层：如果关闭( Shut Down )你的系统(电脑)，然后重新启动则先前的数据依然存在。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&quot;为何要持久化？&quot;&gt;&lt;a href=&quot;#为何要持久化？&quot; class=&quot;headerlink&quot; title=&quot;为何要持久化？&quot;&gt;&lt;/a&gt;为何要持久化？&lt;/h1&gt;&lt;p&gt;Redis的数据是缓存在内存中的，当你重启系统或者关闭系统后，缓存在内存中的数据会丢掉，因此为了让数据能够长期保存，就要将Redis里的数据做持久化存储。&lt;/p&gt;
    
    </summary>
    
    
      <category term="Redis" scheme="http://geekvic.top/categories/Redis/"/>
    
    
      <category term="持久化" scheme="http://geekvic.top/tags/%E6%8C%81%E4%B9%85%E5%8C%96/"/>
    
  </entry>
  
  <entry>
    <title>Redis基本命令</title>
    <link href="http://geekvic.top/post/76b87db6.html"/>
    <id>http://geekvic.top/post/76b87db6.html</id>
    <published>2020-07-10T03:30:00.000Z</published>
    <updated>2020-07-10T07:09:55.526Z</updated>
    
    <summary type="html">
    
      &lt;h1 id=&quot;启动Redis，打开客户端&quot;&gt;&lt;a href=&quot;#启动Redis，打开客户端&quot; class=&quot;headerlink&quot; title=&quot;启动Redis，打开客户端&quot;&gt;&lt;/a&gt;启动Redis，打开客户端&lt;/h1&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;./redis-server /etc/redis.conf &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;./redis-cli&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;


&lt;h1 id=&quot;通用命令&quot;&gt;&lt;a href=&quot;#通用命令&quot; class=&quot;headerlink&quot; title=&quot;通用命令&quot;&gt;&lt;/a&gt;通用命令&lt;/h1&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;命令&lt;/th&gt;
&lt;th&gt;解释&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;&lt;tr&gt;
&lt;td&gt;get key&lt;/td&gt;
&lt;td&gt;查询key&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;set key value&lt;/td&gt;
&lt;td&gt;设置key&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;keys *&lt;/td&gt;
&lt;td&gt;*通配多个字符&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;keys key&lt;/td&gt;
&lt;td&gt;获取名字为key的key&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;keys ?ey&lt;/td&gt;
&lt;td&gt;通配单个字符&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;keys k[eio]y&lt;/td&gt;
&lt;td&gt;通配括号内的某一个字符&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;randomkey&lt;/td&gt;
&lt;td&gt;随机返回key&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;type key&lt;/td&gt;
&lt;td&gt;返回存储类型&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;exists key&lt;/td&gt;
&lt;td&gt;判断key是否存在&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;del key&lt;/td&gt;
&lt;td&gt;删除key&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;rename key newkey&lt;/td&gt;
&lt;td&gt;修改key名称&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;renamenx key newkey&lt;/td&gt;
&lt;td&gt;如果存在修改失败，如果不存在则修改成功&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;select n&lt;/td&gt;
&lt;td&gt;切换到redis数据库，默认16个，从0开始编号&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;expire key 时间（s）&lt;/td&gt;
&lt;td&gt;设置有效期&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ttl key&lt;/td&gt;
&lt;td&gt;查询有效期（-1是永久有效   -2不存在的key）&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;persist key&lt;/td&gt;
&lt;td&gt;设置永久有效&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;h1 id=&quot;字符串命令&quot;&gt;&lt;a href=&quot;#字符串命令&quot; class=&quot;headerlink&quot; title=&quot;字符串命令&quot;&gt;&lt;/a&gt;字符串命令&lt;/h1&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;命令&lt;/th&gt;
&lt;th&gt;解释&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;&lt;tr&gt;
&lt;td&gt;set key value ex 秒数 或 px 毫秒数&lt;/td&gt;
&lt;td&gt;过期时间&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;mset key1 value1 key2 value2 key3 value3&lt;/td&gt;
&lt;td&gt;一次设置多个值&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;mget key1 key2 key3&lt;/td&gt;
&lt;td&gt;一次获取多个值&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;getset key newvalue&lt;/td&gt;
&lt;td&gt;返回上一个值，同时修改当前为新值&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;incr key&lt;/td&gt;
&lt;td&gt;增加&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;decr key&lt;/td&gt;
&lt;td&gt;减少&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;incrby key num&lt;/td&gt;
&lt;td&gt;增加某个num&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;decrby key num&lt;/td&gt;
&lt;td&gt;减少某个num&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;h1 id=&quot;列表命令&quot;&gt;&lt;a href=&quot;#列表命令&quot; class=&quot;headerlink&quot; title=&quot;列表命令&quot;&gt;&lt;/a&gt;列表命令&lt;/h1&gt;
    
    </summary>
    
    
      <category term="Redis" scheme="http://geekvic.top/categories/Redis/"/>
    
    
      <category term="Redis" scheme="http://geekvic.top/tags/Redis/"/>
    
  </entry>
  
  <entry>
    <title>Linux下安装新版本Redis遇到的坑</title>
    <link href="http://geekvic.top/post/755670ae.html"/>
    <id>http://geekvic.top/post/755670ae.html</id>
    <published>2020-07-09T02:00:00.000Z</published>
    <updated>2020-07-09T02:50:44.170Z</updated>
    
    <summary type="html">
    
      &lt;h1 id=&quot;什么是Redis？&quot;&gt;&lt;a href=&quot;#什么是Redis？&quot; class=&quot;headerlink&quot; title=&quot;什么是Redis？&quot;&gt;&lt;/a&gt;什么是Redis？&lt;/h1&gt;&lt;p&gt;Remote Dictionary Server(Redis) 是一个由Salvatore Sanfilippo写的key-value存储系统。&lt;/p&gt;
&lt;p&gt;Redis是一个开源的使用ANSI C语言编写、遵守BSD协议、支持网络、可基于内存亦可持久化的日志型、Key-Value数据库，并提供多种语言的API。&lt;/p&gt;
&lt;p&gt;与传统数据库不同的是 Redis 的数据是存在内存中的，所以存写速度非常快，因此 Redis 被广泛应用于缓存方向。&lt;/p&gt;
&lt;h1 id=&quot;数据类型有哪些？&quot;&gt;&lt;a href=&quot;#数据类型有哪些？&quot; class=&quot;headerlink&quot; title=&quot;数据类型有哪些？&quot;&gt;&lt;/a&gt;数据类型有哪些？&lt;/h1&gt;&lt;p&gt;它通常被称为数据结构服务器，因为值（value）可以是 字符串(String), 哈希(Hash), 列表(list), 集合(sets) 和 有序集合(sorted sets)等类型。&lt;/p&gt;
&lt;h1 id=&quot;安装&quot;&gt;&lt;a href=&quot;#安装&quot; class=&quot;headerlink&quot; title=&quot;安装&quot;&gt;&lt;/a&gt;安装&lt;/h1&gt;
    
    </summary>
    
    
      <category term="Redis" scheme="http://geekvic.top/categories/Redis/"/>
    
    
      <category term="Redis" scheme="http://geekvic.top/tags/Redis/"/>
    
  </entry>
  
  <entry>
    <title>Hexo进阶设置</title>
    <link href="http://geekvic.top/post/a62b0c3d.html"/>
    <id>http://geekvic.top/post/a62b0c3d.html</id>
    <published>2020-05-20T08:57:00.000Z</published>
    <updated>2020-05-22T06:12:48.239Z</updated>
    
    <summary type="html">
    
      &lt;h1 id=&quot;部署平台选型&quot;&gt;&lt;a href=&quot;#部署平台选型&quot; class=&quot;headerlink&quot; title=&quot;部署平台选型&quot;&gt;&lt;/a&gt;部署平台选型&lt;/h1&gt;&lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;p&gt;GitHub和Gitee（码云）是国内外比较流行的代码托管平台，现都推出GitHub/Gitee Pages可以存放静态网页代码，因此可以用来搭建自己的博客。&lt;/p&gt;
&lt;h2 id=&quot;优缺点&quot;&gt;&lt;a href=&quot;#优缺点&quot; class=&quot;headerlink&quot; title=&quot;优缺点&quot;&gt;&lt;/a&gt;优缺点&lt;/h2&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;平台&lt;/th&gt;
&lt;th&gt;优点&lt;/th&gt;
&lt;th&gt;缺点&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;&lt;tr&gt;
&lt;td&gt;Github&lt;/td&gt;
&lt;td&gt;全球最流行的平台，且免费&lt;/td&gt;
&lt;td&gt;国内由于有墙，访问太慢&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Gitee&lt;/td&gt;
&lt;td&gt;国内访问快&lt;/td&gt;
&lt;td&gt;阉割部分功能，提供有偿服务，比如自动部署、自定义域名等需要升级Gitee Pages Pro&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;p&gt;&lt;img src=&quot;https://i.loli.net/2020/05/20/dnYbImls645Fe12.png&quot; alt=&quot;giteepages.png&quot;&gt;&lt;/p&gt;
&lt;p&gt;如上图所示，Gitee是需要付费的，但是考虑到部署到Github上，在国内访问真的太慢，经常加载要十几秒，最终折中了选择，即两个平台同时部署，国外的用户可以访问Github，国内的用户访问Gitee，从而优化访问速度。&lt;/p&gt;
    
    </summary>
    
    
      <category term="Hexo" scheme="http://geekvic.top/categories/Hexo/"/>
    
    
      <category term="Hexo" scheme="http://geekvic.top/tags/Hexo/"/>
    
      <category term="Next" scheme="http://geekvic.top/tags/Next/"/>
    
  </entry>
  
  <entry>
    <title>Hexo如何快速搭建个人博客</title>
    <link href="http://geekvic.top/post/e48abe66.html"/>
    <id>http://geekvic.top/post/e48abe66.html</id>
    <published>2020-05-19T08:00:00.000Z</published>
    <updated>2020-05-22T06:12:48.247Z</updated>
    
    <summary type="html">
    
      &lt;h1 id=&quot;什么是Hexo&quot;&gt;&lt;a href=&quot;#什么是Hexo&quot; class=&quot;headerlink&quot; title=&quot;什么是Hexo?&quot;&gt;&lt;/a&gt;什么是Hexo?&lt;/h1&gt;&lt;p&gt;Hexo 是一个快速、简洁且高效的博客框架。Hexo 使用 Markdown（或其他渲染引擎）解析文章，在几秒内，即可利用靓丽的主题生成静态网页。&lt;/p&gt;
&lt;h1 id=&quot;优势&quot;&gt;&lt;a href=&quot;#优势&quot; class=&quot;headerlink&quot; title=&quot;优势&quot;&gt;&lt;/a&gt;优势&lt;/h1&gt;&lt;ol&gt;
&lt;li&gt;Node.js 所带来的超快生成速度，让上百个页面在几秒内瞬间完成渲染。&lt;/li&gt;
&lt;li&gt;Hexo 支持 GitHub Flavored Markdown 的所有功能，甚至可以整合 Octopress 的大多数插件。&lt;/li&gt;
&lt;li&gt;只需一条指令即可部署到 GitHub Pages,Gitee Pages, Heroku 或其他平台。&lt;/li&gt;
&lt;li&gt;强大的 API 带来无限的可能，与数种模板引擎（EJS，Pug，Nunjucks）和工具（Babel，PostCSS，Less/Sass）轻易集成&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&quot;如何安装？&quot;&gt;&lt;a href=&quot;#如何安装？&quot; class=&quot;headerlink&quot; title=&quot;如何安装？&quot;&gt;&lt;/a&gt;如何安装？&lt;/h1&gt;&lt;p&gt;安装Hexo前需要先安装Node.js和Git，支持windows、Mac、Linux安装，本文主要介绍在如何在Linux上安装&lt;/p&gt;
&lt;h2 id=&quot;安装Git&quot;&gt;&lt;a href=&quot;#安装Git&quot; class=&quot;headerlink&quot; title=&quot;安装Git&quot;&gt;&lt;/a&gt;安装Git&lt;/h2&gt;
    
    </summary>
    
    
      <category term="Hexo" scheme="http://geekvic.top/categories/Hexo/"/>
    
    
      <category term="Hexo" scheme="http://geekvic.top/tags/Hexo/"/>
    
      <category term="Git" scheme="http://geekvic.top/tags/Git/"/>
    
      <category term="node.js" scheme="http://geekvic.top/tags/node-js/"/>
    
  </entry>
  
  <entry>
    <title>如何用Docker部署Spring Boot项目</title>
    <link href="http://geekvic.top/post/904ba16.html"/>
    <id>http://geekvic.top/post/904ba16.html</id>
    <published>2019-12-15T12:36:00.000Z</published>
    <updated>2020-05-22T06:12:48.251Z</updated>
    
    <summary type="html">
    
      &lt;h4 id=&quot;1-idea中安装docker插件；&quot;&gt;&lt;a href=&quot;#1-idea中安装docker插件；&quot; class=&quot;headerlink&quot; title=&quot;1.idea中安装docker插件；&quot;&gt;&lt;/a&gt;1.idea中安装docker插件；&lt;/h4&gt;&lt;h4 id=&quot;2-新建DockerFile，内容如下。&quot;&gt;&lt;a href=&quot;#2-新建DockerFile，内容如下。&quot; class=&quot;headerlink&quot; title=&quot;2.新建DockerFile，内容如下。&quot;&gt;&lt;/a&gt;2.新建DockerFile，内容如下。&lt;/h4&gt;&lt;figure class=&quot;highlight xml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;# 基础镜像使用java&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;FROM java:8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;# 作者&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;MAINTAINER vic &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;test@163.com&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;# VOLUME 指定了临时文件目录为/tmp。&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;# 其效果是在主机 /var/lib/docker 目录下创建了一个临时文件，并链接到容器的/tmp&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;VOLUME /tmp&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;# 将jar包添加到容器中并更名为app.jar&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ADD es-1.0.0-SNAPSHOT.jar app.jar&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;# 运行jar包&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;RUN bash -c &#39;touch /app.jar&#39;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ENTRYPOINT [&quot;java&quot;,&quot;-Djava.security.egd=file:/dev/./urandom&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h4 id=&quot;3-将es-1-0-0-SNAPSHOT-jar以及DockerFile放到一个目录中，执行命令，生成docker镜像。&quot;&gt;&lt;a href=&quot;#3-将es-1-0-0-SNAPSHOT-jar以及DockerFile放到一个目录中，执行命令，生成docker镜像。&quot; class=&quot;headerlink&quot; title=&quot;3.将es-1.0.0-SNAPSHOT.jar以及DockerFile放到一个目录中，执行命令，生成docker镜像。&quot;&gt;&lt;/a&gt;3.将es-1.0.0-SNAPSHOT.jar以及DockerFile放到一个目录中，执行命令，生成docker镜像。&lt;/h4&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;docker build -t es:1.0.0 -f DockerFile .&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h4 id=&quot;4-查看当前的镜像-docker-images，并运行镜像，启动容器。&quot;&gt;&lt;a href=&quot;#4-查看当前的镜像-docker-images，并运行镜像，启动容器。&quot; class=&quot;headerlink&quot; title=&quot;4.查看当前的镜像 docker images，并运行镜像，启动容器。&quot;&gt;&lt;/a&gt;4.查看当前的镜像 docker images，并运行镜像，启动容器。&lt;/h4&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;docker run -d -p 8081:8081 es:1.0.0&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
    
      <category term="Devops" scheme="http://geekvic.top/categories/Devops/"/>
    
    
      <category term="Docker" scheme="http://geekvic.top/tags/Docker/"/>
    
  </entry>
  
  <entry>
    <title>基于Prometheus+Grafana+AlertManager的监控系统</title>
    <link href="http://geekvic.top/post/ced60fca.html"/>
    <id>http://geekvic.top/post/ced60fca.html</id>
    <published>2019-12-10T08:42:00.000Z</published>
    <updated>2020-05-22T06:12:48.250Z</updated>
    
    <summary type="html">
    
      &lt;h2 id=&quot;一、Prometheus&quot;&gt;&lt;a href=&quot;#一、Prometheus&quot; class=&quot;headerlink&quot; title=&quot;一、Prometheus&quot;&gt;&lt;/a&gt;一、Prometheus&lt;/h2&gt;&lt;h3 id=&quot;1-1-简介&quot;&gt;&lt;a href=&quot;#1-1-简介&quot; class=&quot;headerlink&quot; title=&quot;1.1 简介&quot;&gt;&lt;/a&gt;1.1 简介&lt;/h3&gt;&lt;p&gt;Prometheus是一套开源的监控&amp;amp;报警&amp;amp;时间序列数据库的组合，基于应用的metrics来进行监控的开源工具 。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://i.loli.net/2020/04/14/mtwk9IKuJXQDAb4.png&quot; alt=&quot;prometheus.png&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;1-2-下载-amp-安装&quot;&gt;&lt;a href=&quot;#1-2-下载-amp-安装&quot; class=&quot;headerlink&quot; title=&quot;1.2 下载&amp;amp;安装&quot;&gt;&lt;/a&gt;1.2 下载&amp;amp;安装&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;p&gt;下载地址：&lt;a href=&quot;https://prometheus.io/download/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://prometheus.io/download/&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;解压：tar zxvf prometheus-2.12.0.linux-amd64.tar.gz&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;编辑： prometheus.yml，其中包括全局、alertmanager、告警规则、监控job配置，具体内容如下。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight xml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;# my global config&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;global:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  scrape_interval:     15s # Set the scrape interval to every 15 seconds. Default is every 1 minute.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  evaluation_interval: 15s # Evaluate rules every 15 seconds. The default is every 1 minute.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  # scrape_timeout is set to the global default (10s).&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;# Alertmanager configuration&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;alerting:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  alertmanagers:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  - static_configs:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    - targets:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       - 192.168.88.69:9093&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;# Load rules once and periodically evaluate them according to the global &#39;evaluation_interval&#39;.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;rule_files:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   - &quot;test_rules.yml&quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  # - &quot;second_rules.yml&quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;# A scrape configuration containing exactly one endpoint to scrape:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;# Here it&#39;s Prometheus itself.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;scrape_configs:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  # The job name is added as a label `job=&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;job_name&lt;/span&gt;&amp;gt;&lt;/span&gt;` to any timeseries scraped from this config.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  - job_name: &#39;prometheus&#39;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    # metrics_path defaults to &#39;/metrics&#39;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    # scheme defaults to &#39;http&#39;.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    static_configs:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    - targets: [&#39;192.168.88.69:9090&#39;]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  - job_name: &#39;monitor&#39;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    scrape_interval: 5s&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    metrics_path: &#39;/actuator/prometheus&#39;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    static_configs:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    - targets: [&#39;192.168.88.69:8008&#39;]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  - job_name: &#39;node-exporter&#39;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    static_configs:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    - targets: [&#39;192.168.88.69:9100&#39;]&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
    
      <category term="Devops" scheme="http://geekvic.top/categories/Devops/"/>
    
    
      <category term="prometheus" scheme="http://geekvic.top/tags/prometheus/"/>
    
      <category term="grafana" scheme="http://geekvic.top/tags/grafana/"/>
    
      <category term="alertmanager" scheme="http://geekvic.top/tags/alertmanager/"/>
    
  </entry>
  
  <entry>
    <title>日志收集系统ELK搭建</title>
    <link href="http://geekvic.top/post/41ab3baa.html"/>
    <id>http://geekvic.top/post/41ab3baa.html</id>
    <published>2019-11-27T06:46:00.000Z</published>
    <updated>2020-05-22T06:12:48.251Z</updated>
    
    <summary type="html">
    
      &lt;h2 id=&quot;一、ELK简介&quot;&gt;&lt;a href=&quot;#一、ELK简介&quot; class=&quot;headerlink&quot; title=&quot;一、ELK简介&quot;&gt;&lt;/a&gt;一、ELK简介&lt;/h2&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp; 在传统项目中，如果在生产环境中，有多台不同的服务器集群，如果生产环境需要通过日志定位项目的Bug的话，需要在每台节点上使用传统的命令方式查询，这样效率非常低下。因此我们需要集中化的管理日志，ELK则应运而生。ELK=ElasticSeach+Logstash+Kibana，日志收集原理如下所示。&lt;/p&gt;
&lt;p&gt;1、每台服务器集群节点安装Logstash日志收集系统插件&lt;/p&gt;
&lt;p&gt;2、每台服务器节点将日志输入到Logstash中&lt;/p&gt;
&lt;p&gt;3、Logstash将该日志格式化为json格式，根据每天创建不同的索引，输出到ElasticSearch中&lt;/p&gt;
&lt;p&gt;4、浏览器使用安装Kibana查询日志信息&amp;nbsp;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://i.loli.net/2020/04/15/JMNZRE4ovp8XgDc.png&quot; alt=&quot;ELK.png&quot;&gt;&lt;/p&gt;
    
    </summary>
    
    
      <category term="Devops" scheme="http://geekvic.top/categories/Devops/"/>
    
    
      <category term="ES" scheme="http://geekvic.top/tags/ES/"/>
    
      <category term="Logstash" scheme="http://geekvic.top/tags/Logstash/"/>
    
      <category term="Kibana" scheme="http://geekvic.top/tags/Kibana/"/>
    
  </entry>
  
  <entry>
    <title>Apollo环境配置</title>
    <link href="http://geekvic.top/post/92932283.html"/>
    <id>http://geekvic.top/post/92932283.html</id>
    <published>2019-08-27T09:00:00.000Z</published>
    <updated>2020-05-22T06:12:48.236Z</updated>
    
    <summary type="html">
    
      &lt;h2 id=&quot;一、背景&quot;&gt;&lt;a href=&quot;#一、背景&quot; class=&quot;headerlink&quot; title=&quot;一、背景&quot;&gt;&lt;/a&gt;一、背景&lt;/h2&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp; Apollo（阿波罗）是携程框架部门研发的分布式配置中心，能够集中化管理应用不同环境、不同集群的配置，配置修改后能够实时推送到应用端，并且具备规范的权限、流程治理等特性，适用于微服务配置管理场景。&lt;/p&gt;
&lt;h2 id=&quot;二、配置环境路径&quot;&gt;&lt;a href=&quot;#二、配置环境路径&quot; class=&quot;headerlink&quot; title=&quot;二、配置环境路径&quot;&gt;&lt;/a&gt;二、配置环境路径&lt;/h2&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;操作系统&lt;/th&gt;
&lt;th&gt;server.properties&lt;/th&gt;
&lt;th&gt;hosts&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;&lt;tr&gt;
&lt;td&gt;windows&lt;/td&gt;
&lt;td&gt;C:\opt\settings\server.properties&lt;/td&gt;
&lt;td&gt;C:\Windows\System32\drivers\etc\hosts&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;linux&lt;/td&gt;
&lt;td&gt;/opt/settings/server.properties&lt;/td&gt;
&lt;td&gt;/etc/hosts&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;h2 id=&quot;三、具体配置&quot;&gt;&lt;a href=&quot;#三、具体配置&quot; class=&quot;headerlink&quot; title=&quot;三、具体配置&quot;&gt;&lt;/a&gt;三、具体配置&lt;/h2&gt;&lt;h4 id=&quot;3-1-nbsp-server-properties&quot;&gt;&lt;a href=&quot;#3-1-nbsp-server-properties&quot; class=&quot;headerlink&quot; title=&quot;3.1&amp;nbsp;server.properties&quot;&gt;&lt;/a&gt;3.1&amp;nbsp;server.properties&lt;/h4&gt;&lt;p&gt;env=DEV&lt;/p&gt;
    
    </summary>
    
    
      <category term="配置管理" scheme="http://geekvic.top/categories/%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/"/>
    
    
      <category term="Apollo" scheme="http://geekvic.top/tags/Apollo/"/>
    
  </entry>
  
  <entry>
    <title>FFmpeg的安装与使用</title>
    <link href="http://geekvic.top/post/9fe0423b.html"/>
    <id>http://geekvic.top/post/9fe0423b.html</id>
    <published>2019-04-23T12:05:00.000Z</published>
    <updated>2020-05-22T06:12:48.238Z</updated>
    
    <summary type="html">
    
      &lt;h3 id=&quot;一、概述&quot;&gt;&lt;a href=&quot;#一、概述&quot; class=&quot;headerlink&quot; title=&quot;一、概述&quot;&gt;&lt;/a&gt;一、概述&lt;/h3&gt;&lt;p&gt;FFmpeg是一套可以用来记录、转换数字音频、视频，并能将其转化为流的开源计算机程序。采用LGPL或GPL许可证。它提供了录制、转换以及流化音视频的完整解决方案。它包含了非常先进的音频/视频编解码库libavcodec，为了保证高可移植性和编解码质量，libavcodec里很多code都是从头开发的。&lt;/p&gt;
&lt;h3 id=&quot;二、安装&quot;&gt;&lt;a href=&quot;#二、安装&quot; class=&quot;headerlink&quot; title=&quot;二、安装&quot;&gt;&lt;/a&gt;二、安装&lt;/h3&gt;&lt;h4 id=&quot;2-1-安装yasm&quot;&gt;&lt;a href=&quot;#2-1-安装yasm&quot; class=&quot;headerlink&quot; title=&quot;2.1 安装yasm&quot;&gt;&lt;/a&gt;2.1 安装yasm&lt;/h4&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# wget http://www.tortall.net/projects/yasm/releases/yasm-1.3.0.tar.gz&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# tar -zxvf yasm-1.3.0.tar.gz&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# cd yasm-1.3.0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# ./configure&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# make &amp;amp;amp;&amp;amp;amp; make install&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;


&lt;h4 id=&quot;2-2-安装FFmpeg&quot;&gt;&lt;a href=&quot;#2-2-安装FFmpeg&quot; class=&quot;headerlink&quot; title=&quot;2.2 安装FFmpeg&quot;&gt;&lt;/a&gt;2.2 安装FFmpeg&lt;/h4&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#yum -y install bzip2&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#tar jxvf ffmpeg-4.0.2.tar.bz2&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#cd ffmpeg-4.0.2&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# ./configure&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# make&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# make install&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
    
      <category term="工具" scheme="http://geekvic.top/categories/%E5%B7%A5%E5%85%B7/"/>
    
    
      <category term="FFmpeg" scheme="http://geekvic.top/tags/FFmpeg/"/>
    
  </entry>
  
  <entry>
    <title>Dubbo版本升级</title>
    <link href="http://geekvic.top/post/1d29e395.html"/>
    <id>http://geekvic.top/post/1d29e395.html</id>
    <published>2019-04-10T12:00:00.000Z</published>
    <updated>2020-05-22T06:12:48.237Z</updated>
    
    <summary type="html">
    
      &lt;h2 id=&quot;一、背景&quot;&gt;&lt;a href=&quot;#一、背景&quot; class=&quot;headerlink&quot; title=&quot;一、背景&quot;&gt;&lt;/a&gt;一、背景&lt;/h2&gt;&lt;p&gt;早期内部使用的是当当网fork的Dubbox，由于现在Dubbo又开始重新维护，而且阿里将其捐献给了Apache，并成为了Apache的顶级项目。因此dubbo版本升级到2.7.1势在必行。&lt;/p&gt;
&lt;h2 id=&quot;二、版本升级&quot;&gt;&lt;a href=&quot;#二、版本升级&quot; class=&quot;headerlink&quot; title=&quot;二、版本升级&quot;&gt;&lt;/a&gt;二、版本升级&lt;/h2&gt;&lt;p&gt;从2.8.4升级到2.7.1&lt;/p&gt;
&lt;p&gt;具体可以参考：&lt;/p&gt;
&lt;p&gt;Dubbo Spring Boot (v2.7.1) :&amp;nbsp;&lt;a href=&quot;https://github.com/apache/incubator-dubbo-spring-boot-project&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://github.com/apache/incubator-dubbo-spring-boot-project&lt;/a&gt;&lt;br&gt;Dubbo (v2.7.1) :&amp;nbsp;&lt;a href=&quot;https://github.com/apache/incubator-dubbo&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://github.com/apache/incubator-dubbo&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;三、遇到的问题&quot;&gt;&lt;a href=&quot;#三、遇到的问题&quot; class=&quot;headerlink&quot; title=&quot;三、遇到的问题&quot;&gt;&lt;/a&gt;三、遇到的问题&lt;/h2&gt;
    
    </summary>
    
    
      <category term="微服务" scheme="http://geekvic.top/categories/%E5%BE%AE%E6%9C%8D%E5%8A%A1/"/>
    
    
      <category term="Dubbo" scheme="http://geekvic.top/tags/Dubbo/"/>
    
  </entry>
  
  <entry>
    <title>Docker中安装mysql</title>
    <link href="http://geekvic.top/post/6774ee31.html"/>
    <id>http://geekvic.top/post/6774ee31.html</id>
    <published>2018-12-15T12:37:00.000Z</published>
    <updated>2020-05-22T06:12:48.237Z</updated>
    
    <summary type="html">
    
      &lt;h4 id=&quot;1-docker-中下载-mysql&quot;&gt;&lt;a href=&quot;#1-docker-中下载-mysql&quot; class=&quot;headerlink&quot; title=&quot;1.docker 中下载 mysql&quot;&gt;&lt;/a&gt;1.docker 中下载 mysql&lt;/h4&gt;&lt;div class=&quot;cnblogs_code&quot;&gt;
&lt;pre&gt;docker pull mysql&lt;/pre&gt;
&lt;/div&gt;

&lt;h4 id=&quot;2-启动&quot;&gt;&lt;a href=&quot;#2-启动&quot; class=&quot;headerlink&quot; title=&quot;2.启动&quot;&gt;&lt;/a&gt;2.启动&lt;/h4&gt;&lt;div class=&quot;cnblogs_code&quot;&gt;
&lt;pre&gt;docker run -itd --name mysql -p 3306:3306 -e MYSQL_ROOT_PASSWORD=123456 mysql&lt;/pre&gt;
&lt;/div&gt;

&lt;h4 id=&quot;3-进入容器&quot;&gt;&lt;a href=&quot;#3-进入容器&quot; class=&quot;headerlink&quot; title=&quot;3.进入容器&quot;&gt;&lt;/a&gt;3.进入容器&lt;/h4&gt;&lt;div class=&quot;cnblogs_code&quot;&gt;
&lt;pre&gt;docker exec -it mysql bash&lt;/pre&gt;
&lt;/div&gt;

&lt;h4 id=&quot;4-登录mysql，密码输入123456&quot;&gt;&lt;a href=&quot;#4-登录mysql，密码输入123456&quot; class=&quot;headerlink&quot; title=&quot;4.登录mysql，密码输入123456&quot;&gt;&lt;/a&gt;4.登录mysql，密码输入123456&lt;/h4&gt;
    
    </summary>
    
    
      <category term="Devops" scheme="http://geekvic.top/categories/Devops/"/>
    
    
      <category term="Apollo" scheme="http://geekvic.top/tags/Apollo/"/>
    
      <category term="Mysql" scheme="http://geekvic.top/tags/Mysql/"/>
    
      <category term="Docker" scheme="http://geekvic.top/tags/Docker/"/>
    
  </entry>
  
  <entry>
    <title>Docker初识</title>
    <link href="http://geekvic.top/post/8e06a8f9.html"/>
    <id>http://geekvic.top/post/8e06a8f9.html</id>
    <published>2018-12-13T13:54:00.000Z</published>
    <updated>2020-05-22T06:12:48.237Z</updated>
    
    <summary type="html">
    
      &lt;h2 id=&quot;一、简介&quot;&gt;&lt;a href=&quot;#一、简介&quot; class=&quot;headerlink&quot; title=&quot;一、简介&quot;&gt;&lt;/a&gt;一、简介&lt;/h2&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp; Docker 是一个开源的应用容器引擎，让开发者可以打包他们的应用以及依赖包到一个可移植的镜像中，然后发布到任何流行的 Linux或Windows 机器上，也可以实现虚拟化。容器是完全使用沙箱机制，相互之间不会有任何接口。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://i.loli.net/2020/04/09/25qW8AEgmO6dczv.png&quot; alt=&quot;docker.png&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;二、Docker与虚拟机的比较&quot;&gt;&lt;a href=&quot;#二、Docker与虚拟机的比较&quot; class=&quot;headerlink&quot; title=&quot;二、Docker与虚拟机的比较&quot;&gt;&lt;/a&gt;二、Docker与虚拟机的比较&lt;/h2&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp; Docker是在操作系统进程层面的隔离，而虚拟机是在物理资源层面的隔离，两者完全不同，另外，我们也可以通过下面的一个比较，了解两者的根本性差异。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://i.loli.net/2020/04/09/iAZlSEDQT94fBuq.png&quot; alt=&quot;虚拟机与docker区别.png&quot;&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;特性&lt;/th&gt;
&lt;th&gt;容器&lt;/th&gt;
&lt;th&gt;虚拟机&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;&lt;tr&gt;
&lt;td&gt;启动&lt;/td&gt;
&lt;td&gt;秒级&lt;/td&gt;
&lt;td&gt;分钟级&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;硬盘使用&lt;/td&gt;
&lt;td&gt;一般为MB&lt;/td&gt;
&lt;td&gt;一般为GB&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;性能&lt;/td&gt;
&lt;td&gt;接近原生&lt;/td&gt;
&lt;td&gt;弱于&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;系统支持量&lt;/td&gt;
&lt;td&gt;单机支持上千个容器&lt;/td&gt;
&lt;td&gt;一般为几十个&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
    
    </summary>
    
    
      <category term="Devops" scheme="http://geekvic.top/categories/Devops/"/>
    
    
      <category term="Docker" scheme="http://geekvic.top/tags/Docker/"/>
    
  </entry>
  
  <entry>
    <title>Java项目main方法启动的两种方式</title>
    <link href="http://geekvic.top/post/60af2b16.html"/>
    <id>http://geekvic.top/post/60af2b16.html</id>
    <published>2018-11-26T08:36:00.000Z</published>
    <updated>2020-05-22T06:12:48.240Z</updated>
    
    <summary type="html">
    
      
      
        
        
          &lt;h4 id=&quot;1-打包时指定了主类，可以直接用java-jar-xxx-jar&quot;&gt;&lt;a href=&quot;#1-打包时指定了主类，可以直接用java-jar-xxx-jar&quot; class=&quot;headerlink&quot; title=&quot;1.打包时指定了主类，可以直接用java -jar
        
      
    
    </summary>
    
    
      <category term="Java基础" scheme="http://geekvic.top/categories/Java%E5%9F%BA%E7%A1%80/"/>
    
    
      <category term="Java" scheme="http://geekvic.top/tags/Java/"/>
    
  </entry>
  
  <entry>
    <title>zookeeper安装</title>
    <link href="http://geekvic.top/post/bf5e4a43.html"/>
    <id>http://geekvic.top/post/bf5e4a43.html</id>
    <published>2018-11-20T13:00:00.000Z</published>
    <updated>2020-05-22T06:12:48.246Z</updated>
    
    <summary type="html">
    
      &lt;h3 id=&quot;1-下载zk软件&quot;&gt;&lt;a href=&quot;#1-下载zk软件&quot; class=&quot;headerlink&quot; title=&quot;1.下载zk软件&quot;&gt;&lt;/a&gt;1.下载zk软件&lt;/h3&gt;&lt;p&gt;&lt;a href=&quot;http://www.apache.org/dyn/closer.cgi/zookeeper/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;http://www.apache.org/dyn/closer.cgi/zookeeper/&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;2-解压压缩包&quot;&gt;&lt;a href=&quot;#2-解压压缩包&quot; class=&quot;headerlink&quot; title=&quot;2.解压压缩包&quot;&gt;&lt;/a&gt;2.解压压缩包&lt;/h3&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# tar zxvf zookeeper-3.4.13.tar.gz&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;3-创建zoo-cfg&quot;&gt;&lt;a href=&quot;#3-创建zoo-cfg&quot; class=&quot;headerlink&quot; title=&quot;3.创建zoo.cfg&quot;&gt;&lt;/a&gt;3.创建zoo.cfg&lt;/h3&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# cd zookeeper-3.4.13/conf&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# cp zoo_sample.cfg zoo.cfg&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h3 id=&quot;4-获取zk的路径&quot;&gt;&lt;a href=&quot;#4-获取zk的路径&quot; class=&quot;headerlink&quot; title=&quot;4.获取zk的路径&quot;&gt;&lt;/a&gt;4.获取zk的路径&lt;/h3&gt;
    
    </summary>
    
    
      <category term="zookeeper" scheme="http://geekvic.top/categories/zookeeper/"/>
    
    
      <category term="zookeeper" scheme="http://geekvic.top/tags/zookeeper/"/>
    
  </entry>
  
  <entry>
    <title>内网穿透反向代理工具frp的使用</title>
    <link href="http://geekvic.top/post/310667e0.html"/>
    <id>http://geekvic.top/post/310667e0.html</id>
    <published>2018-03-10T13:03:00.000Z</published>
    <updated>2020-05-22T06:12:48.249Z</updated>
    
    <summary type="html">
    
      &lt;h3 id=&quot;1-背景&quot;&gt;&lt;a href=&quot;#1-背景&quot; class=&quot;headerlink&quot; title=&quot;1.背景&quot;&gt;&lt;/a&gt;1.背景&lt;/h3&gt;&lt;p&gt;frp 是一个可用于内网穿透的高性能的反向代理应用，支持 tcp, udp, http, https 协议。场景：近期在研究微信公众号开发，发现需要暴露公网地址，并且是80端口的服务，正好手边有朋友买了腾讯云服务器，因此想通过腾讯云服务器作为frp的服务端，本地机器作为客户端，让公网可以直接访问内网本地机器发布的服务，实现内网穿透。&lt;/p&gt;
&lt;h3 id=&quot;2-作用&quot;&gt;&lt;a href=&quot;#2-作用&quot; class=&quot;headerlink&quot; title=&quot;2.作用&quot;&gt;&lt;/a&gt;2.作用&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;&lt;p&gt;利用处于内网或防火墙后的机器，对外网环境提供 http 或 https 服务。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;对于 http, https 服务支持基于域名的虚拟主机，支持自定义域名绑定，使多个域名可以共用一个80端口。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;利用处于内网或防火墙后的机器，对外网环境提供 tcp 和 udp 服务，例如在家里通过 ssh 访问处于公司内网环境内的主机。&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&quot;3-具体实现&quot;&gt;&lt;a href=&quot;#3-具体实现&quot; class=&quot;headerlink&quot; title=&quot;3.具体实现&quot;&gt;&lt;/a&gt;3.具体实现&lt;/h3&gt;&lt;p&gt;通过tcp方式访问公司内网服务（当前公网服务器没有绑定域名的情况下）&lt;/p&gt;
&lt;figure class=&quot;highlight xml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;#修改 frps.ini 文件，这里使用了最简化的配置：&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;# frps.ini&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[common]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;bind_port = 7000&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;启动 frps：&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;./frps -c ./frps.ini&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;#修改 frpc.ini 文件，假设 frps 所在服务器的公网 IP 为 x.x.x.x；&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;# frpc.ini&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[common]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;server_addr = x.x.x.x&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;server_port = 7000&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[ssh]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;type = tcp&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;local_ip = 127.0.0.1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;local_port = 8088&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;remote_port = 80&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;启动 frpc：&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;./frpc -c ./frpc.ini&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
    
      <category term="工具" scheme="http://geekvic.top/categories/%E5%B7%A5%E5%85%B7/"/>
    
    
      <category term="frp" scheme="http://geekvic.top/tags/frp/"/>
    
  </entry>
  
  <entry>
    <title>Nginx负载均衡初识</title>
    <link href="http://geekvic.top/post/c75d9605.html"/>
    <id>http://geekvic.top/post/c75d9605.html</id>
    <published>2018-02-22T09:33:00.000Z</published>
    <updated>2020-05-22T06:12:48.241Z</updated>
    
    <summary type="html">
    
      &lt;h3 id=&quot;1-背景&quot;&gt;&lt;a href=&quot;#1-背景&quot; class=&quot;headerlink&quot; title=&quot;1.背景&quot;&gt;&lt;/a&gt;1.背景&lt;/h3&gt;&lt;p&gt;　　nginx是一款自由的、开源的、高性能的HTTP服务器和反向代理服务器；同时也是一个IMAP、POP3、SMTP代理服务器；nginx可以作为一个HTTP服务器进行网站的发布处理，另外nginx可以作为反向代理进行负载均衡的实现。&lt;/p&gt;
&lt;h3 id=&quot;2-安装&quot;&gt;&lt;a href=&quot;#2-安装&quot; class=&quot;headerlink&quot; title=&quot;2.安装&quot;&gt;&lt;/a&gt;2.安装&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;p&gt;下载nginx最新版本到linux服务器上，解压tar -zxvf nginx-1.13.8.tar.gz，进入解压目录 cd nginx-1.13.8，并进行手动安装。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;配置：&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;./configure --prefix=/usr/&lt;span class=&quot;built_in&quot;&gt;local&lt;/span&gt;/nginx&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;ul&gt;
&lt;li&gt;编辑nginx：&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;make&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
    
      <category term="Nginx" scheme="http://geekvic.top/categories/Nginx/"/>
    
    
      <category term="Nginx" scheme="http://geekvic.top/tags/Nginx/"/>
    
  </entry>
  
  <entry>
    <title>GitLab问题小结</title>
    <link href="http://geekvic.top/post/c47a15e1.html"/>
    <id>http://geekvic.top/post/c47a15e1.html</id>
    <published>2018-01-06T11:00:00.000Z</published>
    <updated>2020-05-22T06:12:48.239Z</updated>
    
    <summary type="html">
    
      
      
        
        
          &lt;h3 id=&quot;1-内存消耗太大&quot;&gt;&lt;a href=&quot;#1-内存消耗太大&quot; class=&quot;headerlink&quot;
        
      
    
    </summary>
    
    
      <category term="Git" scheme="http://geekvic.top/categories/Git/"/>
    
    
      <category term="GitLab" scheme="http://geekvic.top/tags/GitLab/"/>
    
  </entry>
  
  <entry>
    <title>GitLab服务器迁移</title>
    <link href="http://geekvic.top/post/6b0e3bbc.html"/>
    <id>http://geekvic.top/post/6b0e3bbc.html</id>
    <published>2018-01-06T01:58:00.000Z</published>
    <updated>2020-05-22T06:12:48.238Z</updated>
    
    <summary type="html">
    
      &lt;h3 id=&quot;一、背景&quot;&gt;&lt;a href=&quot;#一、背景&quot; class=&quot;headerlink&quot; title=&quot;一、背景&quot;&gt;&lt;/a&gt;一、背景&lt;/h3&gt;&lt;p&gt;由于GitLab内存消耗很大，已经影响到A服务器上的其他服务，同时考虑到代码管理服务应该单独部署在一台服务器上，因此决定从服务器A迁移到服务器B上。两台服务器均是CentOS 7，gitlab版本是gitlab-ce-9.5.6-ce.0.el7.x86_64.rpm 。注意：高版本的Gitlab无法恢复低版本备份的数据,需要注意在B服务器部署和A服务器一样版本的gitlab,部署好环境后开始备份和数据迁移。&lt;/p&gt;
&lt;h3 id=&quot;二、备份&quot;&gt;&lt;a href=&quot;#二、备份&quot; class=&quot;headerlink&quot; title=&quot;二、备份&quot;&gt;&lt;/a&gt;二、备份&lt;/h3&gt;&lt;p&gt;备份A服务器上的gitlab数据，执行命令：&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;gitlab-rake gitlab:backup:create RAILS_ENV=production&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;PS: 备份后的文件一般是位于/var/opt/gitlab/backups下。&lt;/p&gt;
&lt;h3 id=&quot;三、拷贝&quot;&gt;&lt;a href=&quot;#三、拷贝&quot; class=&quot;headerlink&quot; title=&quot;三、拷贝&quot;&gt;&lt;/a&gt;三、拷贝&lt;/h3&gt;
    
    </summary>
    
    
      <category term="Git" scheme="http://geekvic.top/categories/Git/"/>
    
    
      <category term="GitLab" scheme="http://geekvic.top/tags/GitLab/"/>
    
  </entry>
  
  <entry>
    <title>idea使用Protobuf插件</title>
    <link href="http://geekvic.top/post/35fe24ef.html"/>
    <id>http://geekvic.top/post/35fe24ef.html</id>
    <published>2017-11-06T09:06:00.000Z</published>
    <updated>2020-05-22T06:12:48.247Z</updated>
    
    <summary type="html">
    
      &lt;h3 id=&quot;1-protobuf简介&quot;&gt;&lt;a href=&quot;#1-protobuf简介&quot; class=&quot;headerlink&quot; title=&quot;1.protobuf简介&quot;&gt;&lt;/a&gt;1.protobuf简介&lt;/h3&gt;&lt;p&gt;　　Protobuf是一个灵活的、高效的用于序列化数据的协议。相比较XML和JSON格式，protobuf更小、更快、更便捷。Protobuf是跨语言的，并且自带了一个编译器(protoc)，只需要用它进行编译，可以编译成Java、python、C++等代码，然后就可以直接使用，不需要再写其他代码，自带有解析的代码。一条消息数据，用protobuf序列化后的大小是json的10分之一，xml格式的20分之一，是二进制序列化的10分之一。
　　&lt;/p&gt;
&lt;h3 id=&quot;2-安装插件&quot;&gt;&lt;a href=&quot;#2-安装插件&quot; class=&quot;headerlink&quot; title=&quot;2.安装插件&quot;&gt;&lt;/a&gt;2.安装插件&lt;/h3&gt;&lt;p&gt;在idea里安装插件Protobuf Support&lt;/p&gt;
&lt;h3 id=&quot;3-配置&quot;&gt;&lt;a href=&quot;#3-配置&quot; class=&quot;headerlink&quot; title=&quot;3.配置&quot;&gt;&lt;/a&gt;3.配置&lt;/h3&gt;&lt;figure class=&quot;highlight xml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;dependency&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;groupId&lt;/span&gt;&amp;gt;&lt;/span&gt;io.grpc&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;groupId&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;artifactId&lt;/span&gt;&amp;gt;&lt;/span&gt;grpc-netty&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;artifactId&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;version&lt;/span&gt;&amp;gt;&lt;/span&gt;$&amp;#123;grpc.version&amp;#125;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;version&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;scope&lt;/span&gt;&amp;gt;&lt;/span&gt;provided&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;scope&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;dependency&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;dependency&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;groupId&lt;/span&gt;&amp;gt;&lt;/span&gt;io.grpc&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;groupId&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;artifactId&lt;/span&gt;&amp;gt;&lt;/span&gt;grpc-protobuf&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;artifactId&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;version&lt;/span&gt;&amp;gt;&lt;/span&gt;$&amp;#123;grpc.version&amp;#125;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;version&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;scope&lt;/span&gt;&amp;gt;&lt;/span&gt;provided&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;scope&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;dependency&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;dependency&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;groupId&lt;/span&gt;&amp;gt;&lt;/span&gt;io.grpc&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;groupId&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;artifactId&lt;/span&gt;&amp;gt;&lt;/span&gt;grpc-stub&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;artifactId&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;version&lt;/span&gt;&amp;gt;&lt;/span&gt;$&amp;#123;grpc.version&amp;#125;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;version&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;scope&lt;/span&gt;&amp;gt;&lt;/span&gt;provided&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;scope&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;dependency&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;dependency&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;groupId&lt;/span&gt;&amp;gt;&lt;/span&gt;com.google.protobuf&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;groupId&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;artifactId&lt;/span&gt;&amp;gt;&lt;/span&gt;protobuf-java&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;artifactId&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;version&lt;/span&gt;&amp;gt;&lt;/span&gt;$&amp;#123;protobuf.version&amp;#125;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;version&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;dependency&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight xml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;extensions&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;extension&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;groupId&lt;/span&gt;&amp;gt;&lt;/span&gt;kr.motd.maven&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;groupId&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;artifactId&lt;/span&gt;&amp;gt;&lt;/span&gt;os-maven-plugin&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;artifactId&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;version&lt;/span&gt;&amp;gt;&lt;/span&gt;1.5.0.Final&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;version&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;extension&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;extensions&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
    
      <category term="通信协议" scheme="http://geekvic.top/categories/%E9%80%9A%E4%BF%A1%E5%8D%8F%E8%AE%AE/"/>
    
    
      <category term="Protobuf" scheme="http://geekvic.top/tags/Protobuf/"/>
    
  </entry>
  
</feed>
